<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Managing Larger Data on a GitHub Repository â€¢ piggyback</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Managing Larger Data on a GitHub Repository">
<meta property="og:description" content="Because larger (&gt; 50 MB) data files cannot easily be committed to git,
  a different approach is required to manage data associated with an analysis in a 
  GitHub repository.  This package provides a simple work-around by allowing larger
  (up to 2 GB) data files to piggyback on a repository as assets attached to individual
  GitHub releases.  These files are not handled by git in any way, but instead are
  uploaded, downloaded, or edited directly by calls through the GitHub API. These
  data files can be versioned manually by creating different releases.  This approach
  works equally well with public or private repositories.  Data can be uploaded
  and downloaded programmatically from scripts. No authentication is required to
  download data from public repositories.">
<meta property="og:image" content="/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">piggyback</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.10</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/alternatives.html">Piggyback comparison to alternatives</a>
    </li>
    <li>
      <a href="articles/intro.html">Piggyback Data atop your GitHub Repository!</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ropensci/piggyback">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    

    
    
<!-- README.md is generated from README.Rmd. Please edit that file -->
<div id="piggyback" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#piggyback" class="anchor"></a>piggyback <img src="reference/figures/logo.svg" align="right" alt="" width="120">
</h1></div>

<p>Because larger (&gt; 50 MB) data files cannot easily be committed to git, a different approach is required to manage data associated with an analysis in a GitHub repository. This package provides a simple work-around by allowing larger (<a href="https://help.github.com/articles/distributing-large-binaries/">up to 2 GB per file</a>) data files to piggyback on a repository as assets attached to individual GitHub releases. These files are not handled by git in any way, but instead are uploaded, downloaded, or edited directly by calls through the GitHub API. These data files can be versioned manually by creating different releases. This approach works equally well with public or private repositories. Data can be uploaded and downloaded programmatically from scripts. No authentication is required to download data from public repositories.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>Install from CRAN via</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/install.packages">install.packages</a></span>(<span class="st">"piggyback"</span>)</a></code></pre></div>
<p>You can install the development version from <a href="https://github.com/">GitHub</a> with:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="co"># install.packages("devtools")</span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2">devtools<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/devtools/topics/reexports">install_github</a></span>(<span class="st">"ropensci/piggyback"</span>)</a></code></pre></div>
</div>
<div id="quickstart" class="section level2">
<h2 class="hasAnchor">
<a href="#quickstart" class="anchor"></a>Quickstart</h2>
<p>See the <a href="https://ropensci.github.io/piggyback/articles/intro.html">piggyback vignette</a> for details on authentication and additional package functionality.</p>
<p>Piggyback can download data attached to a release on any repository:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(piggyback)</a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="kw"><a href="reference/pb_download.html">pb_download</a></span>(<span class="st">"data/mtcars.tsv.gz"</span>, <span class="dt">repo =</span> <span class="st">"cboettig/piggyback-tests"</span>, <span class="dt">dest =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/tempfile">tempdir</a></span>())</a></code></pre></div>
<p>Downloading from private repos or uploading to any repo requires authentication, so be sure to set a <code>GITHUB_TOKEN</code> (or <code>GITHUB_PAT</code>) environmental variable, or include the <code>.token</code> argument. Omit the file name to download all attached objects. Omit the repository name to default to the current repository. See <a href="https://ropensci.github.io/piggyback/articles/intro.html">introductory vignette</a> or function documentation for details.</p>
<p>We can also upload data to any existing release (defaults to <code>latest</code>):</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="co">## We'll need some example data first.</span></a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="co">## Pro tip: compress your tabular data to save space &amp; speed upload/downloads</span></a>
<a class="sourceLine" id="cb4-3" data-line-number="3">readr<span class="op">::</span><span class="kw"><a href="https://readr.tidyverse.org/reference/write_delim.html">write_tsv</a></span>(mtcars, <span class="st">"mtcars.tsv.gz"</span>)</a>
<a class="sourceLine" id="cb4-4" data-line-number="4"></a>
<a class="sourceLine" id="cb4-5" data-line-number="5"><span class="kw"><a href="reference/pb_upload.html">pb_upload</a></span>(<span class="st">"mtcars.tsv.gz"</span>, <span class="dt">repo =</span> <span class="st">"cboettig/piggyback-tests"</span>)</a></code></pre></div>
<div id="tracking-data-files" class="section level3">
<h3 class="hasAnchor">
<a href="#tracking-data-files" class="anchor"></a>Tracking data files</h3>
<p>For a <a href="https://git-lfs.github.com/">Git LFS</a> style workflow, just specify the type of files you wish to track using <code><a href="reference/pb_track.html">pb_track()</a></code>. Piggyback will retain a record of these files in a hidden <code>.pbattributes</code> file in your repository, and add these to <code>.gitignore</code> so you donâ€™t accidentally commit them to GitHub. <code>pb_track</code> will also return a list of such files that you can easily pass to <code><a href="reference/pb_upload.html">pb_upload()</a></code>:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="co"># track csv files, compressed data, and geotiff files:</span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="kw"><a href="reference/pb_track.html">pb_track</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"*.csv"</span>, <span class="st">"*.gz"</span>, <span class="st">"*.tif"</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="kw"><a href="reference/pb_upload.html">pb_upload</a></span>()</a></code></pre></div>
<p>You can easily download the latest version of all data attached to a given release with <code><a href="reference/pb_download.html">pb_download()</a></code> with no file argument (analogous to a <code>git pull</code> for data):</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw"><a href="reference/pb_download.html">pb_download</a></span>()</a></code></pre></div>
</div>
</div>
<div id="git-lfs-and-other-alternatives" class="section level2">
<h2 class="hasAnchor">
<a href="#git-lfs-and-other-alternatives" class="anchor"></a>Git LFS and other alternatives</h2>
<p><code>piggyback</code> acts like a poor soulâ€™s <a href="https://git-lfs.github.com/">Git LFS</a>. Git LFS is not only expensive, it also <a href="https://medium.com/@megastep/github-s-large-file-storage-is-no-panacea-for-open-source-quite-the-opposite-12c0e16a9a91">breaks GitHubâ€™s collaborative model</a> â€“ basically if someone wants to submit a PR with a simple edit to your docs, they cannot fork your repository since that would otherwise count against your Git LFS storage. Unlike Git LFS, <code>piggyback</code> doesnâ€™t take over your standard <code>git</code> client, it just perches comfortably on the shoulders of your existing GitHub API. Data can be versioned by <code>piggyback</code>, but relative to <code>git LFS</code> versioning is less strict: uploads can be set as a new version or allowed to overwrite previously uploaded data.</p>
</div>
<div id="but-what-will-github-think-of-this" class="section level2">
<h2 class="hasAnchor">
<a href="#but-what-will-github-think-of-this" class="anchor"></a>But what will GitHub think of this?</h2>
<p><a href="https://help.github.com/articles/distributing-large-binaries/">GitHub documentation</a> at the time of writing endorses the use of attachments to releases as a solution for distributing large files as part of your project:</p>
<p><img src="reference/figures/github-policy.png"></p>
<p>Of course, it will be up to GitHub to decide if this use of release attachments is acceptable in the long term.</p>
<!--
 When GitHub first came online, it was questioned whether committing binary objects and data to GitHub was acceptable or an abuse of a *source code* repository.  GitHub has since clearly embraced a inclusive notion of "repository" for containing far more than pure source.  I believe attaching data that is essential to replicating an analysis and within the 2 GB file limits enforced by GitHub to be in the same spirit of this inclusive notion, but GitHub may decide otherwise. 
 -->
<p>Also see our <a href="https://ropensci.github.io/piggyback/articles/alternatives.html">vignette comparing alternatives</a>.</p>
<hr>
<p>Please note that this project is released with a <a href="CODE_OF_CONDUCT.html">Contributor Code of Conduct</a>. By participating in this project you agree to abide by its terms.</p>
<p><a href="https://ropensci.org"><img src="https://ropensci.org/public_images/ropensci_footer.png" alt="ropensci_footer"></a></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=piggyback">https://â€‹cloud.r-project.org/â€‹package=piggyback</a>
</li>
<li>Browse source code at <br><a href="https://github.com/ropensci/piggyback">https://â€‹github.com/â€‹ropensci/â€‹piggyback</a>
</li>
<li>Report a bug at <br><a href="https://github.com/ropensci/piggyback/issues">https://â€‹github.com/â€‹ropensci/â€‹piggyback/â€‹issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Carl Boettiger <br><small class="roles"> Author, maintainer, copyright holder </small> <a href="https://orcid.org/0000-0002-1642-628X" target="orcid.widget"><img src="https://members.orcid.org/sites/default/files/vector_iD_icon.svg" class="orcid" alt="ORCID" height="16"></a> </li>
<li><a href="authors.html">All authors...</a></li>
</ul>
</div>

      <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://www.tidyverse.org/lifecycle/#stable"><img src="https://img.shields.io/badge/lifecycle-stable-green.svg" alt="lifecycle"></a></li>
<li><a href="https://travis-ci.org/ropensci/piggyback"><img src="https://travis-ci.org/ropensci/piggyback.svg?branch=master" alt="Travis-CI Build Status"></a></li>
<li><a href="https://codecov.io/github/ropensci/piggyback?branch=master"><img src="https://codecov.io/gh/ropensci/piggyback/branch/master/graph/badge.svg" alt="Coverage status"></a></li>
<li><a href="https://ci.appveyor.com/project/cboettig/piggyback"><img src="https://ci.appveyor.com/api/projects/status/github/cboettig/piggyback?branch=master&amp;svg=true" alt="AppVeyor build status"></a></li>
<li><a href="https://cran.r-project.org/package=piggyback"><img src="https://www.r-pkg.org/badges/version/piggyback" alt="CRAN status"></a></li>
<li><a href="https://github.com/ropensci/onboarding/issues/220"><img src="https://badges.ropensci.org/220_status.svg" alt="Peer Review Status"></a></li>
<li><a href="https://zenodo.org/badge/latestdoi/132979724"><img src="https://zenodo.org/badge/132979724.svg" alt="DOI"></a></li>
<li><a href="https://doi.org/10.21105/joss.00971"><img src="http://joss.theoj.org/papers/10.21105/joss.00971/status.svg" alt="DOI"></a></li>
</ul>
</div>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by Carl Boettiger.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.9000.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
